@(user: User, tips: List[Tips], dailySteps:Double, goals: List[Goal], leaderboard: Map[User, Integer], activities: List[UserActivity], userSteps: List[UserSteps], topLeaderboard: Map[User, Integer], surveys: List[Survey], surveyIDs:List[Long])
@import play.i18n._
@import java.math.BigInteger
@main(user, "Dashboard | PushMe", activities, userSteps, leaderboard, topLeaderboard) {
    
<!-- Container auto-aligns carousel -->

<div class = "container col-sm-12 col-md-12 col-lg-12">    
	<div id="tip-carousel" class="carousel slide" data-ride="carousel" style="margin-top: 3%; margin-bottom:3%;">
		<div class="carousel-inner">
	    	<div class="item active" style="text-align:center">
	        	<div class="carousel-content"  style="height: 200px">
	        		<div class="carousel-caption">
	                	<h1><b>@Messages.get("dash.welcome") !</b></h1>
	          		</div>
	            </div>
	        </div>	
	        @for(t <- tips) {
	        	<div class="item" style="text-align:center">
	          	 	<div class="fill" >
	            		<div class="carousel-content"  style="height: 200px">
	            	    	<div class="carousel-caption">
	        	    	    	<h5><b>@t.title</b></h5>
	                    		<h4><i>@t.description</i></h4>
	                    	</div>
	                    </div>
	                </div>
	        	</div>
	    	}
    	</div>
    	
   		<!-- Controls -->
   		<a class="left carousel-control" href="#tip-carousel" role="button" data-slide="prev">
   			<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
   			<span class="sr-only">Next</span>
 		</a>
		<a class="right carousel-control" href="#tip-carousel" role="button" data-slide="next">
   			<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
   			<span class="sr-only">Prev</span>
 		</a>

	</div>
</div>
<br>

<hr>

<!-- Overview panels -->
<div class = "container col-sm-12 col-md-12 col-lg-12">
<!-- Goal Panel -->	
           <div class="col-md-4">
               <div class="panel panel-default">
                   <div class="panel-heading">
                       <h4><i class="fa fa-fw fa-bullseye"></i> @Messages.get("dash.goals") </h4>
                   </div>
                   <div class="panel-body"> 
                   @for(goal <- goals) {
                  		<p>@Messages.get("dash.goalperiod") @goal.start.format("dd MMM") @Messages.get("dash.to") @goal.end.format("dd MMM") @Messages.get("dash.is") <label>@goal.steps</label></p>
                   }
                   <br>
                   </div>
               </div>
           </div>
   			<!-- Recent activities -->	
           <div class="col-md-4">
               <div class="panel panel-default">
                   <div class="panel-heading">
                       <h4><i class="fa fa-fw fa-bicycle"></i> @Messages.get("main.dayact") </h4>
                   </div>
                   <div class="panel-body">
                   
						<table class="table-striped table-condensed table-hover">
							<tr>
								<th>@Messages.get("main.date")</th>
						    	<th>@Messages.get("main.act")</th>
						    	<th>@Messages.get("main.steps")</th>
						    	<th></th>
						  	</tr>
						    @for(a <- activities) {
						    	<tr>
						    		<td style="width:30%">@a.date.format("dd MMM")</td>
						    		<td style="width:30%">@a.activity.name</td>
						    		<td style="width:30%">@a.steps</td>
						    		<td>
						    		<button onclick="deleteUA(@a.id)" style="background-color:#FF6666"><i class="fa fa-trash-o"></i></button>
						    		</td>
						    		</tr>
						    }
						</table>

                       </p>
                   </div>
               </div>
			</div>
   			<!-- Leaderboard -->	 
			<div class="col-md-4">
            	<div class="panel panel-default">
                	<div class="panel-heading">
                   		<h4><i class="fa fa-fw fa-trophy"></i> @Messages.get("main.lboard") </h4>
                	</div>
                	<div class="panel-body" >                	
                		<table class="table-striped table-condensed table-hover">
							<tr>
								<th>@Messages.get("main.uname")</th>
						    	<th>@Messages.get("dash.trophies")</th>
						  	</tr>
						    @for((leaderboardUser, score) <- topLeaderboard) {
						    	<tr>
						    		<td style="width:30%">@leaderboardUser.name</td>
						    		<td style="width:30%">@score x<i class="fa fa-fw fa-trophy"></i></td>
						    		</tr>
						    }
						</table>
						<br>
						<form action="/leaderboard">
    							<button type="submit" style="height: 30px; text-align: center; margin-left: auto; margin-right: auto; display: block;">@Messages.get("dash.comprank")</button>
    					</form>
                	</div>
            	</div>
        	</div>
    	</div>
    	<!-- Survey module -->
    	
    	<div class="col-md-12 text-center">
    	
    	@if(surveys.isEmpty()){
    	<div class="wrapper" title="You have @surveys.size() survey(s) waiting"><button class="btn btn-default btn-lg" disabled title="No new surveys">SURVEY</button></div>
    	}else{
    	<div class="wrapper" title="You have @surveys.size() survey(s) waiting"><button class="btn btn-info btn-lg" data-toggle="modal" data-target="#SurveyModal">SURVEY</button></div>
    	
    	
		<div class="modal fade" id="SurveyModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		  
			@helper.form(routes.DashboardController.answerSurvey(surveyIDs.get(0))){
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" id="myModalLabel">@surveys.get(0).name</h4>
		      </div>
		      <div class="modal-body text-left">
		      <h3>@surveys.get(0).question1</h3><br><input type="radio" name="question1" value="1">@surveys.get(0).option1_1<br>
		      <input type="radio" name="question1" value="2">@surveys.get(0).option2_1<br>
		      <input type="radio" name="question1" value="3">@surveys.get(0).option3_1<br>
		      <h3>@surveys.get(0).question2</h3><br>
		      <input type="radio" name="question2" value="1">@surveys.get(0).option1_2<br>
		      <input type="radio" name="question2" value="2">@surveys.get(0).option2_2<br>
		      <input type="radio" name="question2" value="3">@surveys.get(0).option3_2<br>
		      <h3>@surveys.get(0).question3</h3><br>
		      <input type="radio" name="question3" value="1">@surveys.get(0).option1_3<br>
		      <input type="radio" name="question3" value="2">@surveys.get(0).option2_3<br>
		      <input type="radio" name="question3" value="3">@surveys.get(0).option3_3<br>
		      <h3>@surveys.get(0).question4</h3><br>
		      <input type="radio" name="question4" value="1">@surveys.get(0).option1_4<br>
		      <input type="radio" name="question4" value="2">@surveys.get(0).option2_4<br>
		      <input type="radio" name="question4" value="3">@surveys.get(0).option3_4<br>
		      <h3>@surveys.get(0).question5</h3><br>
		      <input type="radio" name="question5" value="1">@surveys.get(0).option1_5<br>
		      <input type="radio" name="question5" value="2">@surveys.get(0).option2_5<br>
		      <input type="radio" name="question5" value="3">@surveys.get(0).option3_5<br>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">@Messages.get("profile.cancel")</button>
		        <button class="btn btn-primary" type="submit">@Messages.get("profile.savechanges")</button>
		      </div>
		    </div>
		    }
		    
		  </div>
		</div>
		}
    	
    	</div>
    	
}